---
import '../styles/global.css';
import BaseLayout from "../layouts/BaseLayout.astro";

// Aquí puedes agregar la lógica para leer los archivos de assets
// Por ahora usaremos datos de ejemplo
const comunicados = [
    { order: 1, name: 'XIV Asamblea Ordinaria', file: '/public/documentos/1CAviso-Enero-2025.pdf' },
    { order: 2, name: 'Comunicado Oficial Diciembre', file: '/public/documentos/2CComunicado-Diciembre.pdf' },
    { order: 3, name: 'Actualización de Políticas', file: '/public/documentos/3CActualizacion-Politicas.pdf' },
    { order: 4, name: 'Información General', file: '/public/documentos/4CInformacion-General.pdf' },
    { order: 5, name: 'Nuevo Reglamento', file: '/public/documentos/5CNuevo-Reglamento.pdf' },
];

const asambleas = [
    { order: 1, name: 'XIV Asamblea Ordinaria de CMAP', file: '/public/documentos/14.pdf' },
    { order: 2, name: 'XV Asamblea Ordinaria de CMAP', file: '/public/documentos/15.pdf' },
    { order: 3, name: 'XVI Asamblea Ordinaria de CMAP', file: '/public/documentos/16.pdf' },
    { order: 4, name: 'XVII Asamblea Ordinaria de CMAP', file: '/public/documentos/17.pdf' },
    { order: 5, name: 'XVIII Asamblea Ordinaria de CMAP', file: '/public/documentos/18.pdf' },
    { order: 6, name: 'Acuerdos Aprobados en la XVIII Asamblea Ordinaria de CMAP', file: '/public/documentos/18 Acuerdos.pdf' },
    { order: 7, name: 'Bases Constitutivas y Manual de Gestoría', file: '/public/documentos/18 Bases.pdf' },
    { order: 8, name: 'XIX Asamblea Ordinaria de CMAP', file: '/public/documentos/19.pdf' },
    { order: 9, name: 'Acuerdos Aprobados en la XIX Asamblea Ordinaria de CMAP', file: '/public/documentos/19 Acuerdos.pdf' },
    { order: 10, name: 'XIX Asamblea Ordinaria de CMAP Informe', file: '/public/documentos/19 Informe.pdf' },
    { order: 11, name: 'XX Asamblea Ordinaria de CMAP Informe', file: '/public/documentos/20.pdf' },
    { order: 12, name: 'XXI Asamblea Ordinaria de CMAP Informe', file: '/public/documentos/21.pdf' },
    { order: 13, name: 'XXII Asamblea Ordinaria de CMAP Informe', file: '/public/documentos/22.pdf' },
    { order: 14, name: 'XXII Asamblea Ordinaria de CMAP Informe', file: '/public/documentos/22 Extraordinario.pdf' },
    { order: 15, name: 'XXIII Asamblea Ordinaria de CMAP Informe', file: '/public/documentos/23.pdf' },
    { order: 16, name: 'Catálogo de Servicios Financieros de CMAP SNTE 54', file: '/public/documentos/25 Catalogo de Servicios.pdf' },
];
---

<BaseLayout title="Acerca de Nosotros">
    <div class="container mx-auto px-4 py-12 max-w-7xl">
        
        <!-- Header -->
        <header class="text-center mb-16">
            <div class="inline-block mb-4">
                <div class="w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto shadow-2xl transform hover:rotate-12 transition-transform duration-300">
                    <span class="text-4xl">📄</span>
                </div>
            </div>
            <h1 class="text-5xl md:text-6xl font-bold text-gray-900 mb-4">
                Documentos
            </h1>
            <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                Consulta nuestros comunicados oficiales y actas de asambleas
            </p>
        </header>

        <!-- Comunicados y Avisos -->
        <section class="mb-20">
            <div class="flex items-center mb-8 space-x-4">
                <div class="w-12 h-12 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-xl flex items-center justify-center shadow-lg">
                    <span class="text-2xl">📢</span>
                </div>
                <div>
                    <h2 class="text-3xl font-bold text-gray-900">Comunicados y Avisos</h2>
                    <p class="text-gray-600">Información oficial y actualizaciones</p>
                </div>
            </div>
            
            <div class="relative overflow-hidden py-8">
                <div class="slider-comunicados flex gap-6 animate-scroll-left">
                    {comunicados.concat(comunicados).map((doc) => (
                        <a href={doc.file} target="_blank" rel="noopener noreferrer" 
                           class="doc-card flex-shrink-0 w-80 h-96 bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group border-2 border-gray-200 hover:border-blue-400">
                            <div class="h-full flex flex-col">
                                <!-- Portada simulada del documento -->
                                <div class="flex-1 bg-gradient-to-br from-blue-100 via-white to-blue-50 p-8 relative overflow-hidden">
                                    <div class="absolute top-0 right-0 w-32 h-32 bg-blue-600 opacity-10 rounded-full -mr-16 -mt-16"></div>
                                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-purple-600 opacity-10 rounded-full -ml-12 -mb-12"></div>
                                    
                                    <div class="relative z-10 h-full flex flex-col">
                                        <div class="mb-4">
                                            <span class="inline-block px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded-full">
                                                COMUNICADO #{doc.order}
                                            </span>
                                        </div>
                                        <div class="flex-1 flex items-center justify-center">
                                            <div class="text-center">
                                                <div class="w-20 h-20 bg-white rounded-2xl shadow-lg flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform">
                                                    <svg class="w-10 h-10 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                                    </svg>
                                                </div>
                                                <h3 class="text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors">
                                                    {doc.name}
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Footer de la card -->
                                <div class="bg-gradient-to-r from-blue-600 to-cyan-600 p-4 text-white text-center group-hover:from-blue-700 group-hover:to-cyan-700 transition-all">
                                    <p class="font-semibold text-sm flex items-center justify-center space-x-2">
                                        <span>Ver Documento</span>
                                        <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                        </svg>
                                    </p>
                                </div>
                            </div>
                        </a>
                    ))}
                </div>
            </div>
        </section>

        <!-- Asambleas y Acuerdos -->
        <section>
            <div class="flex items-center mb-8 space-x-4">
                <div class="w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center shadow-lg">
                    <span class="text-2xl">📋</span>
                </div>
                <div>
                    <h2 class="text-3xl font-bold text-gray-900">Asambleas y Acuerdos</h2>
                    <p class="text-gray-600">Actas y resoluciones oficiales</p>
                </div>
            </div>
            
            <div class="relative overflow-hidden py-8">
                <div class="slider-asambleas flex gap-6 animate-scroll-right">
                    {asambleas.concat(asambleas).map((doc) => (
                        <a href={doc.file} target="_blank" rel="noopener noreferrer" 
                           class="doc-card flex-shrink-0 w-80 h-96 bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group border-2 border-gray-200 hover:border-purple-400">
                            <div class="h-full flex flex-col">
                                <!-- Portada simulada del documento -->
                                <div class="flex-1 bg-gradient-to-br from-purple-100 via-white to-pink-50 p-8 relative overflow-hidden">
                                    <div class="absolute top-0 right-0 w-32 h-32 bg-purple-600 opacity-10 rounded-full -mr-16 -mt-16"></div>
                                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-pink-600 opacity-10 rounded-full -ml-12 -mb-12"></div>
                                    
                                    <div class="relative z-10 h-full flex flex-col">
                                        <div class="mb-4">
                                            <span class="inline-block px-3 py-1 bg-purple-600 text-white text-xs font-bold rounded-full">
                                                ASAMBLEA #{doc.order}
                                            </span>
                                        </div>
                                        <div class="flex-1 flex items-center justify-center">
                                            <div class="text-center">
                                                <div class="w-20 h-20 bg-white rounded-2xl shadow-lg flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform">
                                                    <svg class="w-10 h-10 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                                    </svg>
                                                </div>
                                                <h3 class="text-lg font-bold text-gray-900 group-hover:text-purple-600 transition-colors">
                                                    {doc.name}
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Footer de la card -->
                                <div class="bg-gradient-to-r from-purple-600 to-pink-600 p-4 text-white text-center group-hover:from-purple-700 group-hover:to-pink-700 transition-all">
                                    <p class="font-semibold text-sm flex items-center justify-center space-x-2">
                                        <span>Ver Documento</span>
                                        <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                        </svg>
                                    </p>
                                </div>
                            </div>
                        </a>
                    ))}
                </div>
            </div>
        </section>

    </div>
</BaseLayout>

<style>
    @keyframes scroll-left {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-50%);
        }
    }

    @keyframes scroll-right {
        0% {
            transform: translateX(-50%);
        }
        100% {
            transform: translateX(0);
        }
    }

    .animate-scroll-left {
        animation: scroll-left 30s linear infinite;
    }

    .animate-scroll-right {
        animation: scroll-right 30s linear infinite;
    }

    .slider-comunicados:hover,
    .slider-asambleas:hover {
        animation-play-state: paused;
    }

    .doc-card:hover {
        transform: scale(1.05);
        z-index: 10;
    }

    /* Gradiente de bordes para dar efecto de fundido */
    .relative.overflow-hidden::before,
    .relative.overflow-hidden::after {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100px;
        z-index: 10;
        pointer-events: none;
    }

    .relative.overflow-hidden::before {
        left: 0;
        background: linear-gradient(to right, rgb(249, 250, 251), transparent);
    }

    .relative.overflow-hidden::after {
        right: 0;
        background: linear-gradient(to left, rgb(249, 250, 251), transparent);
    }
</style>

<script>
    // Detener animación individual al hacer hover en una card
    document.querySelectorAll('.doc-card').forEach(card => {
        card.addEventListener('mouseenter', () => {
            const slider = card.closest('.slider-comunicados, .slider-asambleas') as HTMLElement;
            if (slider) {
                slider.style.animationPlayState = 'paused';
            }
        });

        card.addEventListener('mouseleave', () => {
            const slider = card.closest('.slider-comunicados, .slider-asambleas') as HTMLElement;
            if (slider) {
                slider.style.animationPlayState = 'running';
            }
        });
    });
</script>
</html>