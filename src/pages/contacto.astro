---
import BaseLayout from "../layouts/BaseLayout.astro";

// ======================= Datos =======================
const oficinaPrincipal = {
  titulo: "Oficina Principal",
  ubicacion: "Hermosillo, Sonora. M√©xico",
  detalles: [
    {
      icon: "location",
      titulo: "Direcci√≥n",
      texto:
        "Obreg√≥n 62 Col. Centro\nHermosillo Sonora, M√©xico\nC.P. 83000",
    },
    { icon: "phone", titulo: "Tel√©fono", texto: "(662) 259 9900" },
    {
      icon: "mail",
      titulo: "Correo Electr√≥nico",
      texto: "contacto@cmapsnte54.com.mx",
    },
    { icon: "time", titulo: "Horario", texto: "Lunes a Viernes: 8am - 4pm" },
  ],
};

const sucursales = [
  { ciudad: "AGUA PRIETA", direccion: "Calle 7 entre 8 y 9 S/N Col. Centro", telefono: "(633) 338 48 84" },
  { ciudad: "√ÅLAMOS", direccion: "Carlos A. Rivero S/N Int. Centro de Maestros Col. Los Guayparines", telefono: "(647) 428 09 50", horario: "L-V: 8am ‚Äì 2pm" },
  { ciudad: "ALTAR", direccion: "Francisco I. Madero #7 entre F√©lix G√≥mez y Morelos Col. Centro", telefono: "(637) 374 06 99", horario: "L-V: 8am ‚Äì 1pm" },
  { ciudad: "CABORCA", direccion: "Calle 11 #152 entre avenida L y M Col. Centro", telefono: "(637) 372 19 27", horario: "L-V: 8am ‚Äì 3pm" },
  { ciudad: "CANANEA", direccion: "Av. Ju√°rez y 5ta oeste S/N. Col. Centro", telefono: "(645) 332 06 78", horario: "L-V: 8am ‚Äì 3pm" },
  { ciudad: "CASA DE D√çA MAGISTERIAL", direccion: "Av. Saturnino Campoy y calle Del Maestro S/N. Col. Magisterial", telefono: "(662) 212 36 80", horario: "L-V: 8am ‚Äì 3pm" },
  { ciudad: "GUAYMAS", direccion: "Calle 20 Y Av. 10 #200 Col. Centro", telefono: "(622) 222 98 96", horario: "L-V: 8am ‚Äì 3pm" },
  { ciudad: "HUATABAMPO", direccion: "Calle Profesor Germ√°n Ibarra Ibarra S/N entre √Åvila Camacho y Obreg√≥n Col. Centro", telefono: "(647) 426 33 40", horario: "L-V: 8am ‚Äì 3pm" },
  { ciudad: "HU√âPAC", direccion: "Calle Hidalgo #10 Int. Esc. Primaria 10 de Mayo Col. Centro", telefono: "(623) 231 51 46", horario: "L-V: 8am ‚Äì 2pm" },
  { ciudad: "HU√ÅSABAS", direccion: "Rep√∫blica de Chile y Profesor Juli√°n Moreno S/N Col. Centro", telefono: "(634) 343 55 33", horario: "L-V: 8am ‚Äì 2pm" },
  { ciudad: "MAGDALENA", direccion: "Av. Benito Ju√°rez #311 Col. Centro", telefono: "(632) 322 80 55", horario: "L-V: 8am ‚Äì 3pm" },
  { ciudad: "MOCTEZUMA", direccion: "Calle Rito esq. Ave. Miguel Alem√°n S/N Col. Centro", telefono: "(634) 243 04 58", horario: "L-V: 8am ‚Äì 2pm" },
  { ciudad: "NACOZARI", direccion: "Calle del Seguro Social S/N Esc. Jes√∫s Garc√≠a #1", telefono: "(634) 342 03 78", horario: "L-V: 8am ‚Äì 1pm" },
  { ciudad: "NAVOJOA", direccion: "Blvd. Julio Mart√≠nez Bracamonte y Ceisd #27 Fracc. Acarandas", telefono: "(642) 421 53 51", horario: "L-V: 8am ‚Äì 3pm" },
  { ciudad: "NOGALES", direccion: "Calle Chimeneas #340 y Lago de Moreno Col. Las Praderas", telefono: "(631) 312 93 70", horario: "L-V: 8am ‚Äì 3pm" },
  { ciudad: "OBREG√ìN", direccion: "Blvd. Casa Blanca #2701 Col. Casa Blanca", telefono: "(644) 431 20 89", horario: "L-V: 8am ‚Äì 3pm" },
  { ciudad: "PUERTO PE√ëASCO", direccion: "Av. Sim√≥n Morua y San Luis Esc. Primaria L√°zaro C√°rdenas Col. Centro", telefono: "(638) 383 57 87", horario: "L-V: 8am ‚Äì 2pm" },
  { ciudad: "SAHUARIPA", direccion: "Av. Rafael V. Meneses Esq. Morelos #20 Col. Centro", telefono: "(634) 343 03 58" },
  { ciudad: "SAN LUIS RIO COLORADO", direccion: "Av. Carranza y Calle 18 #1801 Col. Residencias", telefono: "(653) 534 54 93" },
  { ciudad: "SANTA ANA", direccion: "Calle Serna y Agust√≠n Rodr√≠guez #201 Col. La Granja", telefono: "(641) 324 32 47", horario: "L-V: 8am ‚Äì 3pm" },
  { ciudad: "SONOYTA", direccion: "Calle Reforma y Jes√∫s Garc√≠a #15 Col. Centro", telefono: "(651) 512 02 19" },
  { ciudad: "URES", direccion: "Calle Jes√∫s Garc√≠a Morales #26 Entre √Ålvaro Obreg√≥n y Enrique Quijada Col. Centro", telefono: "(623) 232 02 08", horario: "L-V: 8am ‚Äì 1pm" },
  { ciudad: "VILLA JU√ÅREZ", direccion: "Calle Gregorio Torres y 16 de Septiembre S/N. Int. Secundaria Estatal #28 Col. Centro", telefono: "(647) 482 04 28", horario: "L-V: 8am ‚Äì 2pm" },
];

// ======================= Helpers UI (√≠conos) =======================
// color: 'accent' (naranja) por defecto, o 'white' para forzar blanco
const icon = (name: string, color: 'accent' | 'white' = 'accent') => {
  const colorClass =
    color === 'white'
      ? 'text-white'
      : 'text-[color:var(--color-cmap-naranja-700)]';
  const base = `class="size-5 mr-2 ${colorClass}" fill="currentColor"`;
  switch (name) {
    case "location":
      return `<svg ${base} viewBox="0 0 20 20"><path fill-rule="evenodd" d="m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z" clip-rule="evenodd"/></svg>`;
    case "phone":
      return `<svg ${base} viewBox="0 0 20 20"><path fill-rule="evenodd" d="M2 3.5A1.5 1.5 0 0 1 3.5 2h1.148a1.5 1.5 0 0 1 1.465 1.175l.716 3.223a1.5 1.5 0 0 1-1.052 1.767l-.933.267c-.41.117-.643.555-.48.95a11.542 11.542 0 0 0 6.254 6.254c.395.163.833-.07.95-.48l.267-.933a1.5 1.5 0 0 1 1.767-1.052l3.223.716A1.5 1.5 0 0 1 18 15.352V16.5a1.5 1.5 0 0 1-1.5 1.5H15c-1.149 0-2.263-.15-3.326-.43A13.022 13.022 0 0 1 2.43 8.326 13.019 13.019 0 0 1 2 5V3.5Z" clip-rule="evenodd"/></svg>`;
    case "mail":
      return `<svg ${base} viewBox="0 0 24 24"><path d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"/><path d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"/></svg>`;
    case "time":
      return `<svg ${base} viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-13a.75.75 0 0 0-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 0 0 0-1.5h-3.25V5Z" clip-rule="evenodd"/></svg>`;
    default:
      return "";
  }
};
---

<BaseLayout title="Contacto">
  <div class="container mx-auto px-4 py-12 max-w-7xl">
    <!-- Header -->
    <header class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
        ¬øEn qu√© podemos ayudarte?
      </h1>
      <p class="text-xl text-gray-600">Estamos a tus √≥rdenes en las siguientes oficinas</p>
    </header>

    <!-- ========= Oficina Principal (verde s√≥lido, sin map) ========= -->
    <section class="rounded-xl shadow-lg p-8 mb-12 text-white bg-cmap-verde">
      <div class="flex items-center mb-6">
        <div class="w-16 h-16 bg-white/90 rounded-full flex items-center justify-center mr-4 shadow">
          <span class="text-4xl">üè¢</span>
        </div>
        <div>
          <h2 class="text-3xl font-bold">{oficinaPrincipal.titulo}</h2>
          <p class="text-white/80">{oficinaPrincipal.ubicacion}</p>
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        {oficinaPrincipal.detalles.map((d) => (
          <div class="bg-white/10 rounded-lg p-4 backdrop-blur-sm">
            <div class="flex items-start">
              <!-- √çconos en BLANCO aqu√≠ -->
              <span set:html={icon(d.icon, 'white')} />
              <div>
                <h3 class="font-bold mb-1">{d.titulo}</h3>
                <p class="whitespace-pre-line text-white/80">{d.texto}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </section>

    <!-- ========= Sucursales (cards por map) ========= -->
    <section>
      <div class="text-center mb-8">
        <h2 class="text-3xl font-bold text-gray-900 mb-2">Nuestras Sucursales</h2>
        <p class="text-gray-600">Presencia en todo el estado de Sonora</p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
        {sucursales.map((s) => (
          <div class="bg-white rounded-lg shadow-md overflow-hidden border border-[color:var(--color-cmap-amarillo-200)] hover:shadow-lg transition-shadow">
            <div class="h-1.5 bg-gradient-to-r from-[var(--color-cmap-amarillo-400)] to-[var(--color-cmap-naranja-oscuro-500)]" />
            <div class="p-5">
              <h3 class="text-lg font-bold mb-3 flex items-center text-[color:var(--color-cmap-naranja-oscuro-700)]">
                {s.ciudad}
              </h3>

              <div class="space-y-2 text-sm text-gray-700">
                <p class="flex items-start">
                  <!-- En sucursales mantenemos acento naranja -->
                  <span set:html={icon("location")} />
                  <span>{s.direccion}</span>
                </p>

                <p class="flex items-center">
                  <span set:html={icon("phone")} />
                  <span>{s.telefono}</span>
                </p>

                {s.horario && (
                  <p class="flex items-center">
                    <span set:html={icon("time")} />
                    <span>{s.horario}</span>
                  </p>
                )}
              </div>
            </div>
          </div>
        ))}
      </div>
    </section>
  </div>
</BaseLayout>
